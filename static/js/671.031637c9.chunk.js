(self.webpackChunkedh_builder=self.webpackChunkedh_builder||[]).push([[671],{9824:function(e,t,n){"use strict";n(2791);t.Z=n.p+"static/media/upload.20472953a21a606ff4be1812978cd3fa.svg"},7283:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var a=n(6515),r=n(3430),s=n(2791),i=n(1899),c=n(8484),l=n.n(c),o=n(7831),d=n(7872),u=n(9824);var f=n.p+"static/media/excel.9a45da98a45fb083340c9f0712d97038.svg",h=n(184);var p=function(){var e=(0,s.useState)(""),t=(0,r.Z)(e,2),n=t[0],c=t[1],p=(0,s.useState)(!1),x=(0,r.Z)(p,2),v=x[0],m=x[1],g=(0,o.u)({noClick:!!n,accept:".xlsx, xls",maxFiles:2,onDrop:function(e){return c(e[0])}}),j=g.getRootProps,k=g.getInputProps,b=g.isDragActive,D=(0,i.I0)(),N=(0,i.v9)((function(e){return e.requestDecklist})).deckDetails,y=(0,i.v9)((function(e){return e.loginStatus})).userID;return(0,h.jsxs)("div",{className:"drag-n-drop",children:[(0,h.jsx)("h3",{children:"Upload cards from Excel"}),(0,h.jsxs)("div",(0,a.Z)((0,a.Z)({className:"drop-area ".concat(b&&"drag-active")},j()),{},{children:[(0,h.jsx)("input",(0,a.Z)({onChange:!0},k())),n?(0,h.jsxs)("div",{className:"uploaded-file",children:[(0,h.jsx)("img",{src:f,alt:"excel file"}),(0,h.jsx)("div",{children:n.name}),(0,h.jsx)("button",{onClick:function(e){return c("")},className:"clear",children:"x"})]}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("img",{src:u.Z,alt:"upload-icon"}),(0,h.jsx)("p",{children:"Drag 'n' drop .xlsx, xls file here, or click to select files"})]})]})),v&&(0,h.jsx)("div",{className:"invalid invalid-pos",children:"Please add file"}),(0,h.jsx)("button",{onClick:function(){return function(){if(!n)return m(!0);var e=new FileReader;e.onload=function(e){var t=new Uint8Array(e.target.result),n=l().read(t,{type:"array"}),a=n.Sheets[n.SheetNames[0]],r=l().utils.sheet_to_json(a,{header:1});fetch("".concat("https://edh-builder-api.herokuapp.com/","exceldecklist"),{method:"post",headers:{"Content-Type":"application/json",Authorization:window.localStorage.getItem("token")},body:JSON.stringify({deckID:N.deckID,data:r})}).then((function(e){return e.json()})).then((function(e){"success"===e&&D((0,d.Rt)(N.deckID,y))}))},e.readAsArrayBuffer(n)}()},className:"upload",children:"UPLOAD"})]})}},5382:function(){},2095:function(){},1219:function(){}}]);
//# sourceMappingURL=671.031637c9.chunk.js.map