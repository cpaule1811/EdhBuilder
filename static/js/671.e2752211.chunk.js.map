{"version":3,"file":"static/js/671.e2752211.chunk.js","mappings":"uHAuCA,IAAe,IAA0B,4D,4KCEzC,IACA,EAAe,IAA0B,0D,SCyCzC,MA1EA,WACE,OAAwBA,EAAAA,EAAAA,UAAS,IAAjC,eAAOC,EAAP,KAAaC,EAAb,KACA,GAA4BF,EAAAA,EAAAA,WAAS,GAArC,eAAOG,EAAP,KAAeC,EAAf,KACA,GAAsDC,EAAAA,EAAAA,GAAY,CAChEC,UAASL,EACTM,OAAQ,aACRC,SAAU,EACVC,OAAQ,SAACC,GAAD,OAAWR,EAAQQ,EAAM,OAJ3BC,EAAR,EAAQA,aAAcC,EAAtB,EAAsBA,cAAeC,EAArC,EAAqCA,aAM/BC,GAAWC,EAAAA,EAAAA,MACTC,GAAgBC,EAAAA,EAAAA,KAAY,SAACC,GAAD,OAAWA,EAAMC,mBAA7CH,YACAI,GAAWH,EAAAA,EAAAA,KAAY,SAACC,GAAD,OAAWA,EAAMG,eAAxCD,OAgCR,OACE,iBAAKE,UAAU,cAAf,WACE,qDACA,iCACEA,UAAS,oBAAeT,GAAgB,gBACpCF,KAFN,eAIE,0BAAOY,UAAQ,GAAKX,MACnBX,GACC,iBAAKqB,UAAU,gBAAf,WACE,gBAAKE,IAAKC,EAAOC,IAAI,gBACrB,yBAAMzB,EAAK0B,QACX,mBAAQC,QAAS,SAACC,GAAD,OAAO3B,EAAQ,KAAKoB,UAAU,QAA/C,mBAKF,iCACE,gBAAKE,IAAKM,EAAAA,EAAQJ,IAAI,iBACtB,+FAILvB,IAAU,gBAAKmB,UAAU,sBAAf,8BACX,mBAAQM,QAAS,kBAtDJ,WACf,IAAK3B,EACH,OAAOG,GAAU,GAEnB,IAAM2B,EAAS,IAAIC,WACnBD,EAAOE,OAAS,SAAUJ,GACxB,IAAIK,EAAO,IAAIC,WAAWN,EAAEO,OAAOC,QAC/BC,EAAWC,IAAAA,KAAUL,EAAM,CAAEM,KAAM,UACnCC,EAAkBH,EAASI,OAAOJ,EAASK,WAAW,IACtDC,EAAaL,IAAAA,MAAAA,cAAyBE,EAAiB,CAAEI,OAAQ,IACrEC,MAAM,GAAD,OAAIC,yCAAJ,kBAAmD,CACtDC,OAAQ,OACRC,QAAS,CACP,eAAgB,mBAChBC,cAAeC,OAAOC,aAAaC,QAAQ,UAE7CC,KAAMC,KAAKC,UAAU,CACnBC,OAAQzC,EAAYyC,OACpBvB,KAAMU,MAGPc,MAAK,SAACxB,GAAD,OAAUA,EAAKyB,UACpBD,MAAK,SAACE,GACQ,YAATA,GACF9C,GAASK,EAAAA,EAAAA,IAAgBH,EAAYyC,OAAQrC,QAGrDW,EAAO8B,kBAAkB5D,GA2BA6D,IAAYxC,UAAU,SAA7C,yB","sources":["icons/upload.svg","icons/excel.svg","components/Upload/Upload.js"],"sourcesContent":["var _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgUpload(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    viewBox: \"0 0 80 80\",\n    width: \"80px\",\n    height: \"80px\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"surface31474409\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    style: {\n      stroke: \"none\",\n      fillRule: \"nonzero\",\n      fill: \"rgb(20.392157%,59.607846%,85.882354%)\",\n      fillOpacity: 1\n    },\n    d: \"M 40 13 C 32.082031 13 25.242188 18.46875 23.457031 26.109375 C 18.585938 26.734375 14.597656 30.265625 13.382812 35.011719 C 5.949219 35.335938 0 41.484375 0 49 C 0 56.71875 6.28125 63 14 63 L 36 63 L 36 61 L 14 61 C 7.382812 61 2 55.617188 2 49 C 2 42.386719 7.378906 37 14.019531 37 L 14.023438 37 L 15.019531 37.023438 L 15.023438 36.996094 C 15.566406 36.984375 16 36.542969 16 36 C 16 35.621094 15.785156 35.273438 15.441406 35.105469 C 16.632812 31.15625 20.148438 28.304688 24.347656 28.035156 L 24.925781 27.996094 C 24.949219 28 24.976562 28 25 28 C 25.550781 28 26 27.550781 26 27 C 26 26.652344 25.816406 26.328125 25.519531 26.144531 C 27.246094 19.628906 33.164062 15 40 15 C 46.199219 15 51.835938 18.90625 54.023438 24.722656 L 54.03125 24.746094 C 54.011719 24.828125 54 24.914062 54 25 C 54 25.550781 54.449219 26 55 26 C 55.472656 26 55.882812 25.664062 55.976562 25.199219 C 56.664062 25.082031 57.34375 25 58 25 C 64.617188 25 70 30.382812 70 37 C 70 37.996094 69.863281 39.023438 69.589844 40.054688 L 69.328125 41.046875 L 70.324219 41.28125 C 74.84375 42.359375 78 46.355469 78 51 C 78 56.515625 73.515625 61 68 61 L 46 61 L 46 63 L 68 63 C 74.617188 63 80 57.617188 80 51 C 80 45.761719 76.652344 41.207031 71.742188 39.605469 C 71.914062 38.730469 72 37.855469 72 37 C 72 29.28125 65.71875 23 58 23 C 57.207031 23 56.394531 23.074219 55.574219 23.222656 C 52.894531 17.074219 46.738281 13 40 13 Z M 29 26 C 28.449219 26 28 26.449219 28 27 C 28 27.550781 28.449219 28 29 28 C 29.550781 28 30 27.550781 30 27 C 30 26.449219 29.550781 26 29 26 Z M 33 28 C 32.449219 28 32 28.449219 32 29 C 32 29.550781 32.449219 30 33 30 C 33.550781 30 34 29.550781 34 29 C 34 28.449219 33.550781 28 33 28 Z M 56 28 C 55.449219 28 55 28.449219 55 29 C 55 29.550781 55.449219 30 56 30 C 56.550781 30 57 29.550781 57 29 C 57 28.449219 56.550781 28 56 28 Z M 36 31 C 35.449219 31 35 31.449219 35 32 C 35 32.550781 35.449219 33 36 33 C 36.550781 33 37 32.550781 37 32 C 37 31.449219 36.550781 31 36 31 Z M 56 32 C 55.449219 32 55 32.449219 55 33 C 55 33.550781 55.449219 34 56 34 C 56.550781 34 57 33.550781 57 33 C 57 32.449219 56.550781 32 56 32 Z M 19 35 C 18.449219 35 18 35.449219 18 36 C 18 36.550781 18.449219 37 19 37 C 19.550781 37 20 36.550781 20 36 C 20 35.449219 19.550781 35 19 35 Z M 23 37 C 22.449219 37 22 37.449219 22 38 C 22 38.550781 22.449219 39 23 39 C 23.550781 39 24 38.550781 24 38 C 24 37.449219 23.550781 37 23 37 Z M 26 40 C 25.449219 40 25 40.449219 25 41 C 25 41.550781 25.449219 42 26 42 C 26.550781 42 27 41.550781 27 41 C 27 40.449219 26.550781 40 26 40 Z M 41 42.6875 L 32.34375 51.34375 L 33.757812 52.757812 L 40 46.515625 L 40 72 L 42 72 L 42 46.515625 L 48.242188 52.757812 L 49.65625 51.34375 Z M 69 43 C 68.449219 43 68 43.449219 68 44 C 68 44.550781 68.449219 45 69 45 C 69.550781 45 70 44.550781 70 44 C 70 43.449219 69.550781 43 69 43 Z M 67 46 C 66.449219 46 66 46.449219 66 47 C 66 47.550781 66.449219 48 67 48 C 67.550781 48 68 47.550781 68 47 C 68 46.449219 67.550781 46 67 46 Z M 41 74 C 40.449219 74 40 74.449219 40 75 C 40 75.550781 40.449219 76 41 76 C 41.550781 76 42 75.550781 42 75 C 42 74.449219 41.550781 74 41 74 Z M 41 78 C 40.449219 78 40 78.449219 40 79 C 40 79.550781 40.449219 80 41 80 C 41.550781 80 42 79.550781 42 79 C 42 78.449219 41.550781 78 41 78 Z M 41 78 \"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgUpload);\nexport default __webpack_public_path__ + \"static/media/upload.20472953a21a606ff4be1812978cd3fa.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2, _path3, _path4;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgExcel(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 48 48\",\n    width: \"80px\",\n    height: \"80px\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#4CAF50\",\n    d: \"M41,10H25v28h16c0.553,0,1-0.447,1-1V11C42,10.447,41.553,10,41,10z\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#FFF\",\n    d: \"M32 15H39V18H32zM32 25H39V28H32zM32 30H39V33H32zM32 20H39V23H32zM25 15H30V18H25zM25 25H30V28H25zM25 30H30V33H25zM25 20H30V23H25z\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#2E7D32\",\n    d: \"M27 42L6 38 6 10 27 6z\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#FFF\",\n    d: \"M19.129,31l-2.411-4.561c-0.092-0.171-0.186-0.483-0.284-0.938h-0.037c-0.046,0.215-0.154,0.541-0.324,0.979L13.652,31H9.895l4.462-7.001L10.274,17h3.837l2.001,4.196c0.156,0.331,0.296,0.725,0.42,1.179h0.04c0.078-0.271,0.224-0.68,0.439-1.22L19.237,17h3.515l-4.199,6.939l4.316,7.059h-3.74V31z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgExcel);\nexport default __webpack_public_path__ + \"static/media/excel.9a45da98a45fb083340c9f0712d97038.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport XLSX from \"xlsx\";\nimport { useDropzone } from \"react-dropzone\";\nimport { requestDecklist } from \"../../actions\";\nimport \"./Upload.css\";\nimport upload from \"../../icons/upload.svg\";\nimport excel from \"../../icons/excel.svg\";\n\nfunction Upload() {\n  const [file, setFile] = useState(\"\");\n  const [noFile, setNoFile] = useState(false);\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({\n    noClick: file ? true : false,\n    accept: \".xlsx, xls\",\n    maxFiles: 2,\n    onDrop: (files) => setFile(files[0]),\n  });\n  const dispatch = useDispatch();\n  const { deckDetails } = useSelector((state) => state.requestDecklist);\n  const { userID } = useSelector((state) => state.loginStatus);\n\n  const readFile = () => {\n    if (!file) {\n      return setNoFile(true);\n    }\n    const reader = new FileReader();\n    reader.onload = function (e) {\n      var data = new Uint8Array(e.target.result);\n      var workbook = XLSX.read(data, { type: \"array\" });\n      var first_worksheet = workbook.Sheets[workbook.SheetNames[0]];\n      var uploadData = XLSX.utils.sheet_to_json(first_worksheet, { header: 1 });\n      fetch(`${process.env.REACT_APP_API_URL}/exceldecklist`, {\n        method: \"post\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: window.localStorage.getItem(\"token\"),\n        },\n        body: JSON.stringify({\n          deckID: deckDetails.deckID,\n          data: uploadData,\n        }),\n      })\n        .then((data) => data.json())\n        .then((resp) => {\n          if (resp === \"success\")\n            dispatch(requestDecklist(deckDetails.deckID, userID));\n        });\n    };\n    reader.readAsArrayBuffer(file);\n  };\n\n  return (\n    <div className=\"drag-n-drop\">\n      <h3>Upload cards from Excel</h3>\n      <div\n        className={`drop-area ${isDragActive && \"drag-active\"}`}\n        {...getRootProps()}\n      >\n        <input onChange {...getInputProps()} />\n        {file ? (\n          <div className=\"uploaded-file\">\n            <img src={excel} alt=\"excel file\" />\n            <div>{file.name}</div>\n            <button onClick={(e) => setFile(\"\")} className=\"clear\">\n              x\n            </button>\n          </div>\n        ) : (\n          <>\n            <img src={upload} alt=\"upload-icon\" />\n            <p>Drag 'n' drop .xlsx, xls file here, or click to select files</p>\n          </>\n        )}\n      </div>\n      {noFile && <div className=\"invalid invalid-pos\">Please add file</div>}\n      <button onClick={() => readFile()} className=\"upload\">\n        UPLOAD\n      </button>\n    </div>\n  );\n}\n\nexport default Upload;\n"],"names":["useState","file","setFile","noFile","setNoFile","useDropzone","noClick","accept","maxFiles","onDrop","files","getRootProps","getInputProps","isDragActive","dispatch","useDispatch","deckDetails","useSelector","state","requestDecklist","userID","loginStatus","className","onChange","src","excel","alt","name","onClick","e","upload","reader","FileReader","onload","data","Uint8Array","target","result","workbook","XLSX","type","first_worksheet","Sheets","SheetNames","uploadData","header","fetch","process","method","headers","Authorization","window","localStorage","getItem","body","JSON","stringify","deckID","then","json","resp","readAsArrayBuffer","readFile"],"sourceRoot":""}