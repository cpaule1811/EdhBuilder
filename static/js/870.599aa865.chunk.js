"use strict";(self.webpackChunkedh_builder=self.webpackChunkedh_builder||[]).push([[870],{9824:function(e,a,t){t(2791);a.Z=t.p+"static/media/upload.20472953a21a606ff4be1812978cd3fa.svg"},7870:function(e,a,t){t.r(a),t.d(a,{default:function(){return d}});var n=t(6515),r=t(3430),c=t(2791),s=t(7831);t(3303);var o=t.p+"static/media/json.cf879b4ba0251238c88be3cb2c211ba5.svg",i=t(9824),l=t(184);var d=function(){var e=(0,c.useState)(""),a=(0,r.Z)(e,2),t=a[0],d=a[1],u=(0,c.useState)(""),p=(0,r.Z)(u,2),m=p[0],f=p[1],h=(0,c.useState)(""),g=(0,r.Z)(h,2),x=g[0],j=g[1],y=(0,s.u)({noClick:!!x,accept:".json",maxFiles:1,onDrop:function(e){console.log(e),j(e[0])}}),_=y.getRootProps,b=y.getInputProps,v=y.isDragActive;return(0,l.jsx)("div",{className:"background",children:(0,l.jsxs)("div",{className:"username-container",children:[(0,l.jsxs)("form",{children:[(0,l.jsx)("h1",{children:"Add new Set"}),(0,l.jsx)("input",{onChange:function(e){return d(e.target.value)},value:t,type:"text",placeholder:"Set Code"}),(0,l.jsx)("input",{type:"submit",onClick:function(e){return function(e){e.preventDefault(),fetch("https://api.scryfall.com/cards/search?order=set&q=e%3A".concat(t,"&unique=prints")).then((function(e){return e.json()})).then((function(e){var a=e.data.map((function(e){return{cardName:e.name,type:e.type_line,price:Number(e.prices.usd)<.5?.5.toFixed(2):Number(e.prices.usd)*1.65.toFixed(2),cmc:e.cmc,modal:e.layout,imageUrl:"transform"===e.layout||"modal_dfc"===e.layout?e.card_faces[0].image_uris.normal:e.image_uris.normal,imageUrl2:"transform"===e.layout||"modal_dfc"===e.layout?e.card_faces[1].image_uris.normal:null,cardArt:"transform"===e.layout||"modal_dfc"===e.layout?e.card_faces[0].image_uris.art_crop:e.image_uris.art_crop,color:e.color_identity.join(),legal:e.legalities.commander,producedMana:e.produced_mana?e.produced_mana.join():null,mana:"transform"===e.layout||"modal_dfc"===e.layout?e.card_faces[0].mana_cost:e.mana_cost,oracle_text:e.oracle_text&&e.oracle_text,isPartner:e.keywords.includes("Partner"),artist:e.artist}})),t=window.localStorage.getItem("token");fetch("".concat("https://edh-builder-api.herokuapp.com","/updateentries"),{method:"POST",headers:{"content-Type":"application/json",Authorization:t},body:JSON.stringify({cardsToAdd:a})}).then((function(e){"success"===e&&f(!0)}))}))}(e)},className:"signin-button"}),(0,l.jsx)("p",{style:{margin:"5px"},children:m&&"entrys successfully updated"})]}),(0,l.jsxs)("form",{children:[(0,l.jsx)("h1",{children:"Update Entrys"}),(0,l.jsx)("div",(0,n.Z)((0,n.Z)({},_()),{},{children:(0,l.jsxs)("div",{className:"drop-area ".concat(v&&"drag-active"),children:[(0,l.jsx)("input",(0,n.Z)({onChange:!0},b())),x?(0,l.jsxs)("div",{className:"uploaded-file",children:[(0,l.jsx)("img",{src:o,alt:"profile"}),(0,l.jsx)("div",{children:x.name}),(0,l.jsx)("button",{onClick:function(){return j("")},className:"clear",children:"x"})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("img",{src:i.Z,alt:"upload-icon"}),(0,l.jsx)("p",{children:"Drag 'n' drop .json file here, or click to select files"})]})]})})),(0,l.jsx)("input",{type:"submit",onClick:function(e){return function(e){e.preventDefault();var a=new FormData;a.append("file",x),fetch("".concat("https://edh-builder-api.herokuapp.com","/jsonentrys"),{method:"POST",body:a})}(e)},className:"signin-button"}),(0,l.jsx)("p",{style:{margin:"5px"},children:m&&"entrys successfully updated"})]})]})})}},3303:function(){}}]);
//# sourceMappingURL=870.599aa865.chunk.js.map